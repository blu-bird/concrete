\label{21-0321-2}
% %%%%%%% Lecture Notes Style for Concrete Mathematics %%%%%%%%%%%%%
% %%%%%%% Taught by Patrick White, TJHSST %%%%%%%%%%%%%%%%%%%%%%%%%%

% \documentclass[11pt,twosided]{article}
% \input{concrete-header.tex}

% %%%% add package inclusions here, if any

% %%%%% Define your custom functions and macros here, if any
% \newcommand{\fallfac}[2]{{#1}^{\underline{#2}}}

% %%%%%%%%%%%%%%%%%%%% Define the variables below %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \def\titlestring{Generating Functions - The Catalan Numbers}
% \def\scribestring{Sophia Pentakalos and Sophia Wang}
% \def\datestring{Thursday, March, 21st 2019}


% %%%%%%%%%%%%%%%%%%% Page Headers -- Do Not Change %%%%%%%%%%%%%%%%%%%%%%%%%%%
% \lhead{\titlestring}
% \rhead{Page \thepage}
% \cfoot{Concrete Math -- White -- TJHSST}
% \renewcommand{\headrulewidth}{0.4pt}
% \renewcommand{\footrulewidth}{0.4pt}

% %%%%%%%%%%%%%%%%% Begin the document %%%%%%%%%%%%%%%%%%%%%%%%%
% \begin{document}
% \thispagestyle{plain}  %% no headers on this page

% %%%% Do not change these lines %%%%%
% \noindent
% {\LARGE \textbf{\titlestring}}\\\\
% %
% {\Large Scribe: \scribestring}\\ \\
% {\textbf{Date}: \datestring}


%%%%%%%%%%%%%%%%%%%%%%%%%% YOUR CONTENT GOES HERE %%%%%%%%%%%%%%%%%%%%%%%%%%
\noindent

\subsection{Generating Function for Catalan Numbers}

Recall:

$$C_n = \sum_{i=0}^{n-1} C_i C_{n-1-i} $$ $$ C_0 = C_1 = 1$$

Or in other words: $C_{n+1} = \sum_{i=0}^{n} C_i C_{n-1}$

\bigbreak

\bigbreak

\noindent
Let's find a mathematical, instead of combinatorial, formula for $C_n$:

\smallbreak

\noindent Define $f(x) = \sum_{n=0}^{\infty} C_n x^n$

\medbreak


\noindent Notice that $f(x) = C_0 + C_1x + C_2x^2 + C_3x^3 + ...$

\medbreak
${f(x)}^2 = C_0^2 + (C_0C_1 + C_1C_0)x + (C_0C_2 + C_1C_1 + C_2C_0) x^2 + ...$ 

\smallbreak
$= C_1 + C_2x + C_3x^2 + C_4x^3+ ... $

\medbreak

$x{f(x)}^2 = C_1x + C_2x^2 + C_3x^3 
+ C_4x^4 + ... $

\smallbreak

$x{f(x)}^2 = f(x) - C_0 = f(x) - 1$

\smallbreak

$x{f(x)}^2 - f(x) + 1 = 0$

\smallbreak
\noindent Now, use the quadratic formula to get: 

$f(x) = \frac{1\pm \sqrt{1-4x}}{2x}$

\noindent 
However, we need to express this in series notation, in order to directly know the nth coefficient.

\medbreak

\noindent Recall from p.20 of Unit 1, Section 3.2:

\smallbreak

\noindent $(1-x)^\frac{1}{2} = \frac{\sum \fallfac{\frac{1}{2}}{k}}{k!} x^k$

\medbreak
$= 1 - \frac{1}{2}\sum_{n=0}^{\infty}\binom{2n}{n} \frac{1}{n+1}\frac{1}{4^n} x^{n+1}$

\medbreak

\noindent So, $(1-4x)^{\frac{1}{2}} = 1 - \frac{1}{2}\sum_{n=0}^{\infty}\binom{2n}{n} \frac{1}{n+1}\frac{1}{4^n} x^{n+1}$

\smallbreak
$(1-4x)^{\frac{1}{2}} = 1 - 2 \sum_{n=0}^{\infty}\binom{2n}{n} \frac{1}{n+1} x^{n+1}$ 

\medbreak

\noindent
Based on what we previously found, $(1-4x)^{\frac{1}{2}} = 1 - 2 \sum_{n=0}^{\infty}\binom{2n}{n} \frac{1}{n+1} x^{n+1}$ , we know to choose the solution of $f(x) = \frac{1 - \sqrt{1-4x}}{2x}$.

\medbreak

\noindent Now, we simplify, to get that the generating function for the Catalan Numbers is:
$$\boxed{f(x) = \sum_{n=0}^{\infty} \binom{2n}{n} \frac{1}{n+1} x^n}$$



% \end{document}
